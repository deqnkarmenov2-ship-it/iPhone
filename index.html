<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BG РЕСТО</title>
    
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <link rel="manifest" href="manifest.json"> 
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">
    
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#158062">
    <meta name="application-name" content="BG РЕСТО">

    <style>
        /* ОСНОВНИ СТИЛОВЕ */
        html, body {
            height: 100%; 
            margin: 0;
            overflow: hidden; 
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f2f2f7;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .app-container {
            background-color: white;
            width: 100%;
            max-width: 375px;
            height: 100%; 
            border-radius: 0; 
            box-shadow: none; 
            display: flex;
            flex-direction: column;
            position: relative; 
        }
        .content {
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            flex-grow: 1; 
            overflow-y: auto; 
            transition: opacity 0.3s;
        }

        /* СТИЛ ЗА ГЛАВНАТА ИНСТРУКЦИЯ */
        .instruction {
            font-size: 24px; 
            font-weight: bold;
            color: black; 
            text-align: center;
            margin-bottom: 25px; 
            padding-top: 15px; 
        }
        
        /* СТИЛОВЕ ЗА ЗАКЛЮЧВАНЕ */
        .full-lock-overlay {
            position: absolute;
            top: 0; 
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.98);
            z-index: 990; 
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
        }
        .full-lock-overlay .lock-content {
            background-color: #f2f2f7;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        /* СТИЛОВЕ ЗА ВХОДНИ ПОЛЕТА */
        .cash-section {
            width: 100%;
            border-top: 1px solid #e0e0e0;
            margin-top: 15px; 
            padding-top: 10px;
            flex-shrink: 0;
        }
        .cash-section h3 {
            margin: 10px 0;
            font-size: 16px;
            color: #158062;
            text-align: center;
        }
        .cash-section label {
            display: block; 
            text-align: left; 
            font-size: 14px; 
            margin-bottom: 5px; 
            color: #555;
            padding-left: 5px;
        }
        input {
            width: 100%;
            padding: 15px;
            margin-bottom: 10px; 
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            box-sizing: border-box;
            color: #333;
            outline: none;
            flex-shrink: 0;
        }
        input:focus {
            border-color: #158062;
        }
        /* Запазваме стила за премахване на стрелките, въпреки че input type вече е text */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        
        /* СТИЛОВЕ ЗА БУТОНИ */
        .btn-calc, .btn-calc-pink, .btn-reset { 
            background-color: #158062; 
            color: white;
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
            margin-top: 10px;
            margin-bottom: 15px; 
            box-sizing: border-box; 
            flex-shrink: 0;
        }
        .btn-calc:active, .btn-calc-pink:active {
            background-color: #0f5f49;
        }
        .btn-unlock-buy {
            background-color: #d93025 !important; 
            color: white;
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
            margin-top: 15px; 
            margin-bottom: 0; 
            display: block;
            text-align: center;
            text-decoration: none;
            box-sizing: border-box; 
        }
        .lock-content .btn-calc {
            margin-top: 10px; 
            margin-bottom: 0; 
        }
        .btn-reset {
            background-color: #d93025; /* Червен цвят */
            color: white;
            border: none;
            width: 100%;
            padding: 15px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
            margin-top: 5px; 
            margin-bottom: 20px; 
            box-sizing: border-box;
            flex-shrink: 0;
        }

        /* СТИЛОВЕ ЗА РЕЗУЛТАТИ */
        .results {
            text-align: center;
            font-size: 20px;
            font-weight: 500;
            color: #000;
            flex-shrink: 0;
        }
        .results p {
            margin: 5px 0; 
            font-size: 20px; 
            font-weight: bold;
        }
        .results .total-bill {
            font-size: 14px; 
            margin-top: 10px; 
            color: #555;
            font-weight: normal;
        }
        .results .warning {
            color: orange;
            font-size: 16px;
            font-weight: 600;
            margin-top: 5px;
        }

        /* ----------------------------------------------------- */
        /* СТИЛОВЕ ЗА ИНЛАЙН ИНСТАЛАЦИОНЕН БАНЕР (PWA Prompt) */
        /* ----------------------------------------------------- */
        .install-prompt-modal {
            width: 100%;
            background-color: #158062;
            padding: 10px 15px;
            margin-bottom: 20px;
            border-radius: 12px;
            box-sizing: border-box;
            color: white;
            text-align: center;
            z-index: 10;
        }
        
        .prompt-content p {
            margin: 5px 0 10px 0;
            font-size: 16px;
            font-weight: bold;
        }
        
        .prompt-content button {
            width: 48%; 
            margin: 5px 1% 0;
            display: inline-block;
            box-sizing: border-box;
            padding: 8px;
            font-size: 14px;
        }
        
        /* Специфични цветове за бутоните в банера: */
        #installPrompt #installButton {
            background-color: white; 
            color: #158062;
        }
        
        /* *** КОРЕКЦИЯ: Бутонът "Отказ" да е червен като .btn-reset *** */
        #installPrompt #dismissButton {
            background-color: #d93025; /* Червен фон */
            color: white;
            border: none;
            font-weight: bold;
        }
    </style>
</head>
<body onload="checkAndAutoReset(); loadCashLimits(); checkProStatus(); setupDecimalInputs();"> 
    <div class="app-container">
        
        <div class="content" id="lockedContent">
            
            <div class="instruction">
                Въведи сметката и сумата,<br> с която е платено
            </div>
            
            <div id="installPrompt" class="install-prompt-modal" style="display: none;">
                <div class="prompt-content">
                    <p>Инсталирай приложението на телефона си за бърз достъп!</p>
                    <button id="installButton" class="btn-calc">Инсталирай</button>
                    <button id="dismissButton" class="btn-reset">ОТКАЗ</button>
                </div>
            </div>
            
            <input type="text" id="billEur" placeholder="Сметка в евро" inputmode="decimal">

            <input type="text" id="paidEur" placeholder="Платено в евро" inputmode="decimal">
            <input type="text" id="paidBgn" placeholder="Платено в лв" inputmode="decimal">

            <button class="btn-calc" onclick="calculateResto()">ИЗЧИСЛИ РЕСТО</button>

            <div class="results">
                <p>Връщаш €: <span id="resEur">0.00</span></p>
                <p>Връщаш лв: <span id="resBgn">0.00</span></p>
                <p class="total-bill">Обща сметка: <span id="totalBillDisplay">0.00</span> лв</p>
                <p class="warning" id="cashWarning"></p>
            </div>
            
            <div class="cash-section">
                <h3>Наличност в евро (за оптимизация)</h3>
                
                <label for="cashEur">Наличност в евро (€):</label>
                <input type="text" id="cashEur" placeholder="Въведи 0, ако нямаш евро" inputmode="decimal" oninput="saveCashLimit()">
            </div>
            
            <button class="btn-calc-pink" onclick="calculateResto()">ИЗЧИСЛИ РЕСТО</button>

            <button class="btn-reset" onclick="resetFields()">НУЛИРАНЕ</button>
        </div>
        
        <div class="full-lock-overlay" id="fullLockOverlay" style="display:none;">
            <div class="lock-content">
                
                <h3 style="font-size: 20px; font-weight: bold; color: #158062; margin-bottom: 15px; margin-top: 0;">BG РЕСТО калкулатор</h3>

                <a href="https://bgresto.gumroad.com/l/zrxcf?wanted=true" class="btn-unlock-buy" target="_blank" style="margin-top: 0; margin-bottom: 25px; background-color: #158062 !important;">
                    КУПИ ЗА 5.99 USD
                </a>
                
                <p style="font-size: 16px; margin: 0 0 25px 0; line-height: 1.4; color: black; font-weight: 500;">
                    Моля, въведете вашия **EMAIL** и **УНИКАЛЕН КОД**, получен след покупка.
                </p>
                
                <input type="email" id="userEmail" placeholder="ВЪВЕДЕТЕ EMAIL" style="margin-bottom: 10px;"/> 
                
                <input type="text" id="unlockKey" placeholder="ВЪВЕДЕТЕ ВАШИЯ КОД ТУК" style="margin-bottom: 15px;"/> 
                
                <button class="btn-calc btn-unlock-buy" onclick="unlockFeature()" style="margin-top: 10px; margin-bottom: 0;">АКТИВИРАЙ</button> 

            </div>
        </div>
    </div>
    
    <script>
const _0x3f10a1=_0x21ac;(function(_0x12b7b9,_0x2bc12c){const _0xcfe52=_0x21ac,_0x21ef3f=_0x12b7b9();while(!![]){try{const _0x1c7413=parseInt(_0xcfe52(0x14e))/0x1*(parseInt(_0xcfe52(0x134))/0x2)+parseInt(_0xcfe52(0x13d))/0x3*(parseInt(_0xcfe52(0x120))/0x4)+-parseInt(_0xcfe52(0x12c))/0x5*(-parseInt(_0xcfe52(0x16b))/0x6)+-parseInt(_0xcfe52(0x15d))/0x7+-parseInt(_0xcfe52(0x124))/0x8*(-parseInt(_0xcfe52(0x137))/0x9)+parseInt(_0xcfe52(0x148))/0xa*(-parseInt(_0xcfe52(0x116))/0xb)+-parseInt(_0xcfe52(0x119))/0xc*(parseInt(_0xcfe52(0x13f))/0xd);if(_0x1c7413===_0x2bc12c)break;else _0x21ef3f['push'](_0x21ef3f['shift']());}catch(_0x467e87){_0x21ef3f['push'](_0x21ef3f['shift']());}}}(_0x28fd,0x5c26d));const API_ENDPOINT=_0x3f10a1(0x164),EURO_RATE=1.95583,LS_UNLOCKED_STATUS='isProUnlocked_AppsScript',LS_UUID='device_uuid',COOKIE_UUID=_0x3f10a1(0x128),LS_INSTALL_DISMISSED=_0x3f10a1(0x12d);let deferredPrompt;const installPrompt=document[_0x3f10a1(0x11d)](_0x3f10a1(0x180)),installButton=document[_0x3f10a1(0x11d)](_0x3f10a1(0x167)),dismissButton=document[_0x3f10a1(0x11d)](_0x3f10a1(0x142));'serviceWorker'in navigator&&(window[_0x3f10a1(0x132)](_0x3f10a1(0x156),function(){const _0x50aea5=_0x3f10a1;navigator[_0x50aea5(0x163)][_0x50aea5(0x14c)](_0x50aea5(0x15b))[_0x50aea5(0x13a)](_0x1bd939=>{const _0x3467ca=_0x50aea5;console[_0x3467ca(0x16e)](_0x3467ca(0x185));})[_0x50aea5(0x15f)](_0x4c8f87=>{const _0x511a45=_0x50aea5;console['log'](_0x511a45(0x177),_0x4c8f87);});}),window[_0x3f10a1(0x132)](_0x3f10a1(0x11f),_0x5a56be=>{const _0x393262=_0x3f10a1;_0x5a56be[_0x393262(0x153)](),deferredPrompt=_0x5a56be,localStorage[_0x393262(0x183)](LS_UNLOCKED_STATUS)==='true'&&showPermanentInstallPrompt();}),window['addEventListener']('appinstalled',()=>{const _0x4f3cbb=_0x3f10a1;installPrompt[_0x4f3cbb(0x16a)]['display']=_0x4f3cbb(0x160),deferredPrompt=null,localStorage[_0x4f3cbb(0x11c)](LS_INSTALL_DISMISSED);}));installButton[_0x3f10a1(0x132)](_0x3f10a1(0x141),()=>{const _0xf08e18=_0x3f10a1;deferredPrompt&&(installPrompt[_0xf08e18(0x16a)][_0xf08e18(0x129)]=_0xf08e18(0x160),deferredPrompt[_0xf08e18(0x182)](),deferredPrompt[_0xf08e18(0x17e)][_0xf08e18(0x13a)](_0x1f8d67=>{deferredPrompt=null;}));}),dismissButton[_0x3f10a1(0x132)](_0x3f10a1(0x141),()=>{const _0xa58621=_0x3f10a1;installPrompt['style'][_0xa58621(0x129)]=_0xa58621(0x160);});function setCookie(_0x150043,_0x1deee6,_0x528d0f){const _0x4ece23=_0x3f10a1;let _0x321870='';if(_0x528d0f){const _0x29a938=new Date();_0x29a938[_0x4ece23(0x13c)](_0x29a938['getTime']()+_0x528d0f*0x18*0x3c*0x3c*0x3e8),_0x321870=';\x20expires='+_0x29a938[_0x4ece23(0x127)]();}document['cookie']=_0x150043+'='+(_0x1deee6||'')+_0x321870+_0x4ece23(0x157);}function getCookie(_0x50f765){const _0x39ceeb=_0x3f10a1,_0x3bc4f8=_0x50f765+'=',_0x2be961=document['cookie'][_0x39ceeb(0x165)](';');for(let _0xd68209=0x0;_0xd68209<_0x2be961['length'];_0xd68209++){let _0x3d9bb8=_0x2be961[_0xd68209];while(_0x3d9bb8['charAt'](0x0)==='\x20')_0x3d9bb8=_0x3d9bb8[_0x39ceeb(0x174)](0x1,_0x3d9bb8['length']);if(_0x3d9bb8[_0x39ceeb(0x162)](_0x3bc4f8)===0x0)return _0x3d9bb8[_0x39ceeb(0x174)](_0x3bc4f8[_0x39ceeb(0x159)],_0x3d9bb8[_0x39ceeb(0x159)]);}return null;}function generateUUID(){const _0x185207=_0x3f10a1;return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'[_0x185207(0x170)](/[xy]/g,function(_0x4106c1){const _0x2dc745=_0x185207,_0x74e4b5=Math['random']()*0x10|0x0,_0x3a370e=_0x4106c1==='x'?_0x74e4b5:_0x74e4b5&0x3|0x8;return _0x3a370e[_0x2dc745(0x166)](0x10);});}function getOrCreateUUID(){const _0x3ba012=_0x3f10a1;let _0x4b7935=localStorage[_0x3ba012(0x183)](LS_UUID);return!_0x4b7935&&(_0x4b7935=getCookie(COOKIE_UUID)),!_0x4b7935&&(_0x4b7935=generateUUID()),localStorage[_0x3ba012(0x145)](LS_UUID,_0x4b7935),setCookie(COOKIE_UUID,_0x4b7935,0x16d*0xa),_0x4b7935;}function _0x21ac(_0x47295c,_0x1e520a){_0x47295c=_0x47295c-0x116;const _0x28fddc=_0x28fd();let _0x21acaf=_0x28fddc[_0x47295c];return _0x21acaf;}function roundMoney(_0x3392ad){const _0x48700b=_0x3f10a1;return Math['round']((_0x3392ad+Number[_0x48700b(0x172)])*0x64)/0x64;}function deleteUUIDCookie(){const _0x188e0b=_0x3f10a1;document[_0x188e0b(0x14d)]=COOKIE_UUID+_0x188e0b(0x17a);}function checkAndAutoReset(){const _0x3a67d3=_0x3f10a1,_0x4a3705=0xa*0x3c*0x3c*0x3e8,_0x537eee=parseInt(localStorage[_0x3a67d3(0x183)](_0x3a67d3(0x169))||'0',0xa),_0x97a1a=new Date()[_0x3a67d3(0x123)](),_0x40f138=localStorage[_0x3a67d3(0x183)](LS_UNLOCKED_STATUS)===_0x3a67d3(0x135);_0x40f138&&_0x97a1a-_0x537eee>_0x4a3705&&(document['getElementById'](_0x3a67d3(0x14b))[_0x3a67d3(0x161)]='',document[_0x3a67d3(0x11d)](_0x3a67d3(0x17b))[_0x3a67d3(0x161)]='',document['getElementById'](_0x3a67d3(0x17f))[_0x3a67d3(0x161)]='',document[_0x3a67d3(0x11d)](_0x3a67d3(0x17c))[_0x3a67d3(0x149)]='0.00',document['getElementById'](_0x3a67d3(0x179))[_0x3a67d3(0x149)]=_0x3a67d3(0x15c),document[_0x3a67d3(0x11d)](_0x3a67d3(0x12a))[_0x3a67d3(0x149)]='0.00',document[_0x3a67d3(0x11d)](_0x3a67d3(0x186))[_0x3a67d3(0x149)]='',document[_0x3a67d3(0x184)](_0x3a67d3(0x150))[_0x3a67d3(0x16a)][_0x3a67d3(0x12b)]=_0x3a67d3(0x178),document[_0x3a67d3(0x11d)](_0x3a67d3(0x158))[_0x3a67d3(0x161)]='',localStorage[_0x3a67d3(0x11c)](_0x3a67d3(0x136)),localStorage[_0x3a67d3(0x11c)](LS_UUID),deleteUUIDCookie(),localStorage[_0x3a67d3(0x145)](_0x3a67d3(0x169),_0x97a1a),console[_0x3a67d3(0x16e)](_0x3a67d3(0x171)));}function checkProStatus(){const _0xf17f1c=_0x3f10a1,_0xad018c=localStorage['getItem'](LS_UNLOCKED_STATUS)===_0xf17f1c(0x135),_0x37f064=document[_0xf17f1c(0x11d)]('fullLockOverlay'),_0x1503fe=document[_0xf17f1c(0x11d)](_0xf17f1c(0x154)),_0xf21905=getOrCreateUUID();console[_0xf17f1c(0x16e)]('Current\x20Device\x20UUID:',_0xf21905),_0xad018c?(_0x37f064[_0xf17f1c(0x16a)]['display']='none',_0x1503fe[_0xf17f1c(0x16a)][_0xf17f1c(0x122)]='1',_0x1503fe[_0xf17f1c(0x16a)][_0xf17f1c(0x14a)]=_0xf17f1c(0x175),showPermanentInstallPrompt()):(_0x37f064[_0xf17f1c(0x16a)][_0xf17f1c(0x129)]=_0xf17f1c(0x155),_0x1503fe[_0xf17f1c(0x16a)][_0xf17f1c(0x122)]='0',_0x1503fe[_0xf17f1c(0x16a)][_0xf17f1c(0x14a)]='none');}function showPermanentInstallPrompt(){const _0x23d738=_0x3f10a1,_0x4c7fc0=window['matchMedia'](_0x23d738(0x117))[_0x23d738(0x133)],_0x416b95=localStorage['getItem'](LS_INSTALL_DISMISSED)===_0x23d738(0x135);deferredPrompt&&!_0x4c7fc0&&!_0x416b95?installPrompt[_0x23d738(0x16a)][_0x23d738(0x129)]=_0x23d738(0x14f):installPrompt[_0x23d738(0x16a)][_0x23d738(0x129)]=_0x23d738(0x160);}async function unlockFeature(){const _0x35427e=_0x3f10a1,_0x40790c=document['getElementById'](_0x35427e(0x144))[_0x35427e(0x161)][_0x35427e(0x131)](),_0x2e2153=document[_0x35427e(0x11d)]('userEmail')[_0x35427e(0x161)][_0x35427e(0x131)]()[_0x35427e(0x125)](),_0x372a1a=getOrCreateUUID();if(!_0x40790c){alert(_0x35427e(0x140));return;}document[_0x35427e(0x11d)]('unlockKey')['placeholder']=_0x35427e(0x146),document['querySelector']('.lock-content\x20.btn-unlock-buy')[_0x35427e(0x11e)]=!![];try{const _0x4e4d6f=API_ENDPOINT+_0x35427e(0x138)+encodeURIComponent(_0x40790c)+'&email='+encodeURIComponent(_0x2e2153)+_0x35427e(0x15e)+encodeURIComponent(_0x372a1a),_0x26256b=await fetch(_0x4e4d6f),_0x400e95=await _0x26256b[_0x35427e(0x12e)]();if(_0x400e95[_0x35427e(0x118)]==='success')localStorage[_0x35427e(0x145)](LS_UNLOCKED_STATUS,'true'),localStorage['setItem'](_0x35427e(0x169),new Date()[_0x35427e(0x123)]()),alert(_0x35427e(0x126)+_0x400e95['message']),showPermanentInstallPrompt();else{let _0x36b5b5=_0x400e95[_0x35427e(0x151)]||_0x35427e(0x11a);if(_0x400e95[_0x35427e(0x176)]==='429')_0x36b5b5=_0x35427e(0x16c);else _0x400e95['message'][_0x35427e(0x13e)](_0x35427e(0x16d))?_0x36b5b5=_0x400e95[_0x35427e(0x151)]+_0x35427e(0x15a):_0x36b5b5=_0x36b5b5+_0x35427e(0x11b);alert(_0x35427e(0x12f)+_0x36b5b5),localStorage[_0x35427e(0x11c)](LS_UNLOCKED_STATUS);}}catch(_0x44a736){alert(_0x35427e(0x143)),console[_0x35427e(0x188)](_0x35427e(0x16f),_0x44a736);}document[_0x35427e(0x11d)]('unlockKey')[_0x35427e(0x161)]='',document[_0x35427e(0x11d)](_0x35427e(0x168))[_0x35427e(0x161)]='',document['getElementById'](_0x35427e(0x144))[_0x35427e(0x139)]='ВЪВЕДЕТЕ\x20ВАШИЯ\x20КОД\x20ТУК',document[_0x35427e(0x184)](_0x35427e(0x147))[_0x35427e(0x11e)]=![],checkProStatus();}function saveCashLimit(){const _0x154cc8=_0x3f10a1,_0x4fd401=localStorage['getItem'](LS_UNLOCKED_STATUS)===_0x154cc8(0x135);if(_0x4fd401){}}function _0x28fd(){const _0x512596=['beforeinstallprompt','9052XEbcNY','toFixed','opacity','getTime','8NdmlRT','toLowerCase','Успех!\x20Приложението\x20е\x20отключено!\x20','toUTCString','uuid_cookie','display','totalBillDisplay','color','2123580lIzCFy','pwa_dismissed_permanently','json','Грешка:\x20','forEach','trim','addEventListener','matches','2QcfIen','true','resto_cashEur','4392009GaNaBP','?key=','placeholder','then','\x20лв.)\x20в\x20лева.','setTime','249HmzWCJ','includes','8716487HMkmjX','Моля,\x20въведете\x20Вашия\x20код.','click','dismissButton','Грешка\x20при\x20свързване\x20със\x20сървъра.\x20Проверете\x20връзката\x20си.','unlockKey','setItem','Проверка\x20на\x20кода\x20и\x20имейла...\x20Моля,\x20изчакайте.','.lock-content\x20.btn-unlock-buy','10gGQWOW','innerText','pointerEvents','billEur','register','cookie','393558TtkKAS','block','.results','message','#d93025','preventDefault','lockedContent','flex','load',';\x20path=/;\x20SameSite=Lax;\x20secure','cashEur','length','\x20\x0a\x0a\x20Ако\x20кодът\x20Ви\x20е\x20работил\x20преди,\x20той\x20е\x20временно\x20блокиран,\x20но\x20Вашето\x20устройство\x20остава\x20активирано.\x20Пробвайте\x20отново,\x20когато\x20изтече\x20таймерът.','service-worker.js','0.00','2433963dmhTGg','&uuid=','catch','none','value','indexOf','serviceWorker','https://api.bgresto.online/api/unlock','split','toString','installButton','userEmail','resto_lastResetTime','style','6UbrqbS','Твърде\x20много\x20неуспешни\x20опити.\x20Устройството\x20е\x20блокирано\x20за\x2024\x20часа.\x20Моля,\x20опитайте\x20отново\x20утре.','Кодът\x20е\x20блокиран','log','API\x20Error:','replace','Автоматично\x20ПЪЛНО\x20НУЛИРАНЕ\x20след\x2010\x20часа.','EPSILON','abs','substring','auto','httpCode','ServiceWorker\x20регистрацията\x20се\x20провали:','black','resBgn','=;\x20expires=Thu,\x2001\x20Jan\x201970\x2000:00:00\x20UTC;\x20path=/;\x20SameSite=Lax;\x20secure','paidEur','resEur','Приложението\x20е\x20заключено.\x20Моля,\x20въведете\x20ключ\x20за\x20достъп.','userChoice','paidBgn','installPrompt','beforeunload','prompt','getItem','querySelector','ServiceWorker\x20регистрацията\x20е\x20успешна!','cashWarning','\x20лв','error','1082873PkdTcj','(display-mode:\x20standalone)','status','12BGxpcV','Грешка\x20при\x20активирането.\x20Пробвайте\x20отново.','.\x20Ако\x20току-що\x20сте\x20направили\x20покупка,\x20моля,\x20изчакайте\x20**30-40\x20секунди**\x20и\x20опитайте\x20отново.','removeItem','getElementById','disabled'];_0x28fd=function(){return _0x512596;};return _0x28fd();}function loadCashLimits(){const _0x972307=_0x3f10a1,_0x882a81=localStorage['getItem'](_0x972307(0x136));_0x882a81!==null?document[_0x972307(0x11d)]('cashEur')[_0x972307(0x161)]=_0x882a81:document[_0x972307(0x11d)]('cashEur')[_0x972307(0x161)]='';}function calculateResto(){const _0x4fe66b=_0x3f10a1,_0x2dc3f1=localStorage[_0x4fe66b(0x183)](LS_UNLOCKED_STATUS)===_0x4fe66b(0x135);if(!_0x2dc3f1){alert(_0x4fe66b(0x17d));return;}let _0xf8b4a9=parseFloat(document['getElementById'](_0x4fe66b(0x14b))[_0x4fe66b(0x161)])||0x0,_0x3dd5f6=parseFloat(document[_0x4fe66b(0x11d)](_0x4fe66b(0x17b))[_0x4fe66b(0x161)])||0x0,_0x367ae7=parseFloat(document[_0x4fe66b(0x11d)](_0x4fe66b(0x17f))[_0x4fe66b(0x161)])||0x0,_0x423927=document[_0x4fe66b(0x11d)]('cashEur')[_0x4fe66b(0x161)],_0x536e68=_0x423927===''?Infinity:parseFloat(_0x423927),_0x5bd085=_0xf8b4a9*EURO_RATE,_0x17b2b0=_0x3dd5f6*EURO_RATE+_0x367ae7,_0x1f23f9=_0x17b2b0-_0x5bd085;document[_0x4fe66b(0x11d)](_0x4fe66b(0x12a))[_0x4fe66b(0x149)]=roundMoney(_0x5bd085)[_0x4fe66b(0x121)](0x2),document[_0x4fe66b(0x11d)](_0x4fe66b(0x186))['innerText']='',document[_0x4fe66b(0x184)]('.results')[_0x4fe66b(0x16a)]['color']=_0x4fe66b(0x178);if(_0x1f23f9<-0.009){document[_0x4fe66b(0x11d)](_0x4fe66b(0x17c))[_0x4fe66b(0x149)]='Недостиг!',document[_0x4fe66b(0x11d)](_0x4fe66b(0x179))['innerText']=roundMoney(Math[_0x4fe66b(0x173)](_0x1f23f9))['toFixed'](0x2)+_0x4fe66b(0x187),document[_0x4fe66b(0x184)](_0x4fe66b(0x150))[_0x4fe66b(0x16a)][_0x4fe66b(0x12b)]=_0x4fe66b(0x152);return;}if(_0x1f23f9<0.009){document[_0x4fe66b(0x11d)](_0x4fe66b(0x17c))['innerText']='0.00',document[_0x4fe66b(0x11d)](_0x4fe66b(0x179))['innerText']=_0x4fe66b(0x15c);return;}let _0x52bf1d=roundMoney(_0x1f23f9),_0x43f1e8=0x0,_0x26caae=0x0,_0xcb5c36=roundMoney(_0x52bf1d/EURO_RATE);if(_0xcb5c36<=_0x536e68)_0x43f1e8=_0xcb5c36,_0x26caae=0x0;else{_0x43f1e8=_0x536e68;let _0x28239a=_0x43f1e8*EURO_RATE,_0x47ba17=_0x52bf1d-_0x28239a;_0x26caae=roundMoney(_0x47ba17),_0x536e68!==Infinity&&(document[_0x4fe66b(0x11d)](_0x4fe66b(0x186))[_0x4fe66b(0x149)]='ВНИМАНИЕ:\x20Недостатъчно\x20евро.\x20Връщаш\x20'+_0x43f1e8[_0x4fe66b(0x121)](0x2)+'€\x20и\x20остатъка\x20('+_0x26caae[_0x4fe66b(0x121)](0x2)+_0x4fe66b(0x13b),document[_0x4fe66b(0x184)](_0x4fe66b(0x150))['style'][_0x4fe66b(0x12b)]='orange');}document[_0x4fe66b(0x11d)](_0x4fe66b(0x17c))[_0x4fe66b(0x149)]=_0x43f1e8[_0x4fe66b(0x121)](0x2),document[_0x4fe66b(0x11d)](_0x4fe66b(0x179))['innerText']=_0x26caae[_0x4fe66b(0x121)](0x2);}function resetFields(){const _0x465db4=_0x3f10a1,_0x1d1e75=localStorage['getItem'](LS_UNLOCKED_STATUS)===_0x465db4(0x135);if(!_0x1d1e75){alert(_0x465db4(0x17d));return;}document[_0x465db4(0x11d)](_0x465db4(0x14b))[_0x465db4(0x161)]='',document[_0x465db4(0x11d)]('paidEur')[_0x465db4(0x161)]='',document[_0x465db4(0x11d)](_0x465db4(0x17f))[_0x465db4(0x161)]='',document['getElementById'](_0x465db4(0x17c))[_0x465db4(0x149)]=_0x465db4(0x15c),document[_0x465db4(0x11d)](_0x465db4(0x179))[_0x465db4(0x149)]='0.00',document['getElementById']('totalBillDisplay')['innerText']=_0x465db4(0x15c),document[_0x465db4(0x11d)]('cashWarning')[_0x465db4(0x149)]='',document[_0x465db4(0x184)]('.results')[_0x465db4(0x16a)][_0x465db4(0x12b)]=_0x465db4(0x178),document[_0x465db4(0x11d)]('cashEur')['value']='',localStorage[_0x465db4(0x11c)]('resto_cashEur'),localStorage[_0x465db4(0x145)](_0x465db4(0x169),new Date()[_0x465db4(0x123)]());}function setupDecimalInputs(){const _0x226631=_0x3f10a1,_0x580351=[_0x226631(0x14b),'paidEur',_0x226631(0x17f),'cashEur'];_0x580351[_0x226631(0x130)](_0x554249=>{const _0x3fefa3=_0x226631,_0x2f322f=document[_0x3fefa3(0x11d)](_0x554249);_0x2f322f&&_0x2f322f['addEventListener']('input',function(){const _0x1ab5cd=_0x3fefa3;this[_0x1ab5cd(0x161)]=this[_0x1ab5cd(0x161)]['replace'](/[^0-9.,]/g,'')[_0x1ab5cd(0x170)](/,/g,'.');});});}window[_0x3f10a1(0x132)](_0x3f10a1(0x181),()=>{const _0x2bad4f=_0x3f10a1;localStorage[_0x2bad4f(0x11c)](_0x2bad4f(0x136));});
    </script>
</body>
</html>